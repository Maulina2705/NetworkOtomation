# ===============================================
# 🎮 Ping Challenge Game (Colab Edition - English)
# ===============================================
!pip install ping3 pandas --quiet

import random
import time
from ping3 import ping
from datetime import datetime
import pandas as pd

# ===============================================
# ⚙️ Setup Parameters
# ===============================================
HOSTS = ["8.8.8.8", "1.1.1.1", "google.com", "cloudflare.com"]
ROUNDS = 5   # number of game rounds

# ===============================================
# 🧠 Game Logic
# ===============================================
def play_ping_challenge(hosts, rounds=5):
    score = 0
    results = []

    print("🎮 Welcome to *Ping Challenge!*")
    print("Guess which server has the fastest response!\n")

    for i in range(1, rounds + 1):
        print(f"🌀 Round {i}/{rounds}")
        sample = random.sample(hosts, k=3)  # pick 3 random hosts

        # Show choices
        for idx, h in enumerate(sample):
            print(f"  {idx+1}. {h}")

        # Get player's guess
        try:
            choice = int(input("\n👉 Choose the number of the fastest server: "))
            if not (1 <= choice <= len(sample)):
                raise ValueError
        except ValueError:
            print("⚠️ Invalid input, skipping this round.")
            continue

        # Perform ping for all hosts in this round
        times = {}
        print("\n📡 Pinging servers...")
        for h in sample:
            rtt = ping(h, unit='ms', timeout=2)
            times[h] = round(rtt, 2) if rtt else None
            time.sleep(0.5)

        # Determine the fastest
        fastest = min(
            (h for h in sample if times[h] is not None),
            key=lambda h: times[h],
            default=None
        )

        print("\n📊 Ping Results:")
        for h, t in times.items():
            print(f" - {h}: {t if t else 'timeout'} ms")

        # Check guess
        if fastest is None:
            print("⚠️ All hosts timed out! No winner this round.\n")
        elif sample[choice-1] == fastest:
            print(f"✅ Correct! {fastest} is the fastest ({times[fastest]} ms)")
            score += 1
        else:
            print(
